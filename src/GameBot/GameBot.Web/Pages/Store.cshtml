@page
@model GameBot.Web.Pages.StoreModel
@{
    ViewData["Title"] = "Store";
}

<h1>@ViewData["Title"]</h1>

<p>Stock up on super valuable game coins!</p>

<h3>How Many Coins Would you Like?</h3>

<form id="orderForm" method="post" class="col-sm-6">
    <div class="form-group row">
        <input class="form-check-input" type="radio" name="Order.Coins" id="Order.Coins.100" value="100" />
        <label class="form-check-label" for="Order.Coins.100">
            Buy 100 Coins for $12.99
        </label>
    </div>
    <div class="form-group row">
        <input class="form-check-input" type="radio" name="Order.Coins" id="Order.Coins.500" value="500" />
        <label class="form-check-label" for="Order.Coins.500">
            Buy 500 Coins for $49.99
        </label>
    </div>
    <div class="form-group row">
        <input class="form-check-input" type="radio" name="Order.Coins" id="Order.Coins.1000" value="1000" />
        <label class="form-check-label" for="Order.Coins.1000">
            Buy 1000 Coins for $89.99 (Best Value!)
        </label>
    </div>
    <div class="form-group row">
        <button class="btn btn-primary" id="submit">Submit</button>
    </div>
</form>

@section scripts{
    <script>
        $(function () {
            $('#submit').on('click', function (evt) {
                evt.preventDefault();
                $('#submit').attr("disabled");

                $.post('', $('form').serialize(), function () {
                    $('#orderForm')[0].reset();
                    $('#submit').removeAttr("disabled");
                    console.log("purchase posted");
                });
            });
        });
    </script>
}
